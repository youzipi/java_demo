<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <title></title>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <script src="/js/jQuery.js" type="text/javascript"></script>
    <style>
        .pagination{
            width: 293px;
            margin-left: auto;
            margin-right: auto;
        }
        .pagination li{
            cursor:pointer;
        }
        .table{
            margin-left: 20px;
            margin-right:20px;
        }
        thead .id{
            width: 60px;
        }
    </style>
    <script>
        //var data =' [{"id":1,"imageAddress":"a1","newsContent":"111","newsTitle":"11"},{"id":2,"imageAddress":"a2","newsContent":"222","newsTitle":"22"},{"id":3,"imageAddress":"a3","newsContent":"333","newsTitle":"33"},{"id":4,"imageAddress":"a4","newsContent":"444","newsTitle":"44"},{"id":5,"imageAddress":"","newsContent":"","newsTitle":""}]';
        //console.log(list);
        $(function(){
            $.ajax({
                type:"POST", //请求方式
                url:"/doNews", //请求路径
                cache: false,
                dataType: 'text',
                success:function(text){
                    //console.log(text);
                    var list = $.parseJSON(text);
                    console.log(list);
                    $.each(list,function(i,node){
                        var tds = "<tr>";
                        tds += '<td><input type="checkbox" name="chose0" /></td>';
                        tds += "<td>"+node["id"]+"</td>";
                        tds += "<td>"+node["imageAddress"]+"</td>";
                        tds += "<td>"+node["newsTitle"]+"</td>";
                        tds += "<td>"+node["newsContent"]+"</td>";
                        tds += '<td ><a href="/newsedit.html">编辑</a></td><td ><a href="#">删除</a></td>';
                        tds += "</tr>"
                        $("tbody").append(tds);
                        //$("tbody tr:gt(9)").hide();
/*                        var total_num = $("tbody tr").index()+1;
                        var current_num=10;//每页显示的数据
                        var current_page=1;//当前页数
                        var total_page= Math.round(total_num/current_num);//总页数
                        console.log(total_page);
                        var next=$(".next");//下一页
                        var prev=$(".prev");//上一页
                        //下一页
                        $(".next").click(function(){
                            if(current_page==total_page){
                                return false;//如果大于总页数就禁用下一页
                            }
                            else{
                                //$(".current_page").text(++current_num);//点击下一页的时候当前页数的值就加1
                                ++current_page;
                                $.each($('tbody tr'),function(index,item){
                                    var start = current_num* (current_page-1);//起始范围
                                    var end = current_num * current_page;//结束范围
                                    if(index >= start && index < end){//如果索引值是在start和end之间的元素就显示，否则就隐
                                        $(this).show();
                                    }else {
                                        $(this).hide();
                                    }
                                });
                            }
                        });
                        //上一页方法
                        $(".prev").click(function(){
                            if(current_num==1){
                                return false;
                            }else{
                                //$(".current_page").text(--current_num);
                                --current_page;
                                $.each($('tbody tr'),function(index,item){
                                    var start = current_num* (current_page-1);//起始范围
                                    var end = current_num * current_page;//结束范围
                                    if(index >= start && index < end){//如果索引值是在start和end之间的元素就显示，否则就隐藏
                                        $(this).show();
                                    }else {
                                        $(this).hide();
                                    }
                                });
                            }

                        })*/
                    })
                }
            });

        })
    </script>
</head>
<body>
<ol class="breadcrumb">
    <li><a href="#">Home</a></li>
    <li><a href="#">imagenews</a></li>
    <li class="active">View</li>
</ol>
<table class="table  table-striped table-hover table-bordered">
    <p></p>
    <caption>db_imagenews</caption>
    <thead>
    <tr>
        <th>选择</th>
        <th class="id">id</th>
        <th>imageAddress</th>
        <th>newsTitle</th>
        <th>newsContent</th>
        <th>Edit</th>
        <th>Delete</th>
    </tr>
    </thead>
    <tbody>
    <!--<tr>
        <td><input type="checkbox" name="chose0" /></td>
        <td>Tanmay</td>
        <td>Bangalore</td>
        <td>Bangalore</td>
        <td>Bangalore</td>
        <td ><a href="#">编辑</a></td>
        <td ><a href="#">删除</a></td>
    </tr>-->
    </tbody>
</table>
<ul class="pagination">
    <li><a class="prev">Prev</a></li>
    <li><a href="#">1</a></li>
    <li><a href="#">2</a></li>
    <li><a href="#">3</a></li>
    <li><a href="#">4</a></li>
    <li><a href="#">5</a></li>
    <li><a class="next">Next</a></li>
</ul>
</body>
</html>